{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\55319\\\\Desktop\\\\Projeto PIA\\\\ProjetoPIA\\\\ProjetoPIA\\\\site\\\\src\\\\views\\\\Acao.js\";\nimport React, { Component } from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport { showError } from '../scripts/Messages';\nimport FormularioPadrao from './FormularioPadrao';\nimport { isNumeric } from '../scripts/Utils';\nconst titulo = 'Ações';\nconst url = '/acao';\nexport default class Acao extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.getFiltro = this.getFiltro.bind(this);\n    this.getTitulosDaTabela = this.getTitulosDaTabela.bind(this);\n    this.getDadosDaTabela = this.getDadosDaTabela.bind(this);\n    this.renderizarFormulario = this.renderizarFormulario.bind(this);\n    this.getObjetoDeDados = this.getObjetoDeDados.bind(this);\n    this.carregarCombos = this.carregarCombos.bind(this);\n    this.antesDeInserir = this.antesDeInserir.bind(this);\n    this.antesDeEditar = this.antesDeEditar.bind(this);\n  }\n  antesDeInserir() {\n    return this.carregarCombos();\n  }\n  antesDeEditar() {\n    return this.carregarCombos();\n  }\n  carregarCombos() {\n    return new Promise(resolve => {\n      resolve();\n    });\n  }\n  getFiltro(filtro) {\n    var query = '';\n    if (filtro && filtro.texto) {\n      let texto = filtro.texto.toString();\n      if (texto[0] === '#') {\n        if (!isNumeric(texto.substring(1))) {\n          showError('Código inválido: \"' + texto.substring(1) + '\"');\n          return null;\n        }\n        query = '?$filter=id eq ' + texto.substring(1);\n      } else {\n        query = \"?$filter=contains(Searchable,'\" + texto + \"') \" + (this.props.filtroAdicional ? this.props.filtroAdicional : \"\");\n      }\n      query += '&';\n    } else {\n      query = '?';\n    }\n    return query;\n  }\n  getTitulosDaTabela() {\n    return [{\n      titulo: 'Nome',\n      width: '100%',\n      orderby: 'nome'\n    }];\n  }\n  getDadosDaTabela(item) {\n    return [item.nome];\n  }\n  getObjetoDeDados(sender) {\n    return new Promise((resolve, reject) => {\n      let item = sender.state.itemSelecionado;\n      if (!item.nome) {\n        showError('Informe o nome da ação.');\n        reject();\n        return;\n      }\n      var input = {\n        nome: item.nome\n      };\n      if (sender.state.alterando) {\n        input.id = parseInt(item.id);\n      }\n      resolve(input);\n    });\n  }\n  renderizarFormulario(sender) {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      sm: 2,\n      md: 2,\n      lg: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, \"C\\xF3digo\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      readOnly: true,\n      defaultValue: sender.state.itemSelecionado.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"text\",\n      defaultValue: sender.state.itemSelecionado.nome,\n      onChange: e => {\n        sender.state.itemSelecionado.nome = e.target.value;\n      },\n      onInput: e => e.target.value = ('' + e.target.value).toUpperCase(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    })))));\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(FormularioPadrao, {\n      titulo: titulo,\n      url: url,\n      api: this.props.api,\n      ordenacaoPadrao: 'nome',\n      permissoes: [2010, null, null, 2013],\n      getFiltro: this.getFiltro,\n      esconderTituloDaTabela: true,\n      getTitulosDaTabela: this.getTitulosDaTabela,\n      getDadosDaTabela: this.getDadosDaTabela,\n      renderizarFormulario: this.renderizarFormulario,\n      getObjetoDeDados: this.getObjetoDeDados,\n      antesDeInserir: this.antesDeInserir,\n      antesDeEditar: this.antesDeEditar,\n      antesDeSalvar: this.antesDeSalvar,\n      antesDeExcluir: this.antesDeExcluir,\n      select: this.props.select,\n      itemVazio: {},\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    });\n  }\n}","map":{"version":3,"names":["React","Component","Form","Row","Col","showError","FormularioPadrao","isNumeric","titulo","url","Acao","constructor","props","state","getFiltro","bind","getTitulosDaTabela","getDadosDaTabela","renderizarFormulario","getObjetoDeDados","carregarCombos","antesDeInserir","antesDeEditar","Promise","resolve","filtro","query","texto","toString","substring","filtroAdicional","width","orderby","item","nome","sender","reject","itemSelecionado","input","alterando","id","parseInt","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","sm","md","lg","Group","Label","Control","type","readOnly","defaultValue","onChange","e","target","value","onInput","toUpperCase","render","api","ordenacaoPadrao","permissoes","esconderTituloDaTabela","antesDeSalvar","antesDeExcluir","select","itemVazio"],"sources":["C:/Users/55319/Desktop/Projeto PIA/ProjetoPIA/ProjetoPIA/site/src/views/Acao.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Row, Col } from 'react-bootstrap';\r\nimport { showError } from '../scripts/Messages';\r\nimport FormularioPadrao from './FormularioPadrao';\r\nimport { isNumeric } from '../scripts/Utils';\r\n\r\nconst titulo = 'Ações';\r\nconst url = '/acao';\r\n\r\nexport default class Acao extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.getFiltro = this.getFiltro.bind(this);\r\n        this.getTitulosDaTabela = this.getTitulosDaTabela.bind(this);\r\n        this.getDadosDaTabela = this.getDadosDaTabela.bind(this);\r\n        this.renderizarFormulario = this.renderizarFormulario.bind(this);\r\n        this.getObjetoDeDados = this.getObjetoDeDados.bind(this);\r\n        this.carregarCombos = this.carregarCombos.bind(this);\r\n        this.antesDeInserir = this.antesDeInserir.bind(this);\r\n        this.antesDeEditar = this.antesDeEditar.bind(this);\r\n    }\r\n\r\n    antesDeInserir() {\r\n        return this.carregarCombos();\r\n    }\r\n\r\n    antesDeEditar() {\r\n        return this.carregarCombos();\r\n    }\r\n\r\n    carregarCombos() {\r\n        return new Promise((resolve) => {\r\n            resolve();\r\n        });\r\n    }\r\n\r\n    getFiltro(filtro) {\r\n        var query = '';\r\n        if (filtro && filtro.texto) {\r\n            let texto = filtro.texto.toString();\r\n            if (texto[0] === '#') {\r\n                if (!isNumeric(texto.substring(1))) {\r\n                    showError('Código inválido: \"' + texto.substring(1) + '\"');\r\n                    return null;\r\n                }\r\n                query = '?$filter=id eq ' + texto.substring(1);\r\n            } else {\r\n                query = \"?$filter=contains(Searchable,'\" + texto + \"') \" + (this.props.filtroAdicional ? this.props.filtroAdicional : \"\");\r\n            }\r\n            query += '&';\r\n        } else {\r\n            query = '?';\r\n        }\r\n        return query;\r\n    }\r\n\r\n    getTitulosDaTabela() {\r\n        return [{ titulo: 'Nome', width: '100%', orderby: 'nome' }];\r\n    }\r\n\r\n    getDadosDaTabela(item) {\r\n        return [item.nome];\r\n    }\r\n\r\n    getObjetoDeDados(sender) {\r\n        return new Promise((resolve, reject) => {\r\n            let item = sender.state.itemSelecionado;\r\n            if (!item.nome) {\r\n                showError('Informe o nome da ação.');\r\n                reject();\r\n                return;\r\n            }\r\n\r\n            var input = {\r\n                nome: item.nome,\r\n            };\r\n\r\n            if (sender.state.alterando) {\r\n                input.id = parseInt(item.id);\r\n            }\r\n            resolve(input);\r\n        });\r\n    }\r\n\r\n    renderizarFormulario(sender) {\r\n        return (\r\n            <React.Fragment>\r\n                <Row>\r\n                    <Col sm={2} md={2} lg={2}>\r\n                        <Form.Group>\r\n                            <Form.Label>Código</Form.Label>\r\n                            <Form.Control type='text' readOnly defaultValue={sender.state.itemSelecionado.id} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Group>\r\n                            <Form.Label>Nome</Form.Label>\r\n                            <Form.Control\r\n                                type='text'\r\n                                defaultValue={sender.state.itemSelecionado.nome}\r\n                                onChange={(e) => {\r\n                                    sender.state.itemSelecionado.nome = e.target.value;\r\n                                }}\r\n                                onInput={(e) => (e.target.value = ('' + e.target.value).toUpperCase())}\r\n                            />\r\n                        </Form.Group>\r\n                    </Col>\r\n                </Row>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <FormularioPadrao\r\n                titulo={titulo}\r\n                url={url}\r\n                api={this.props.api}\r\n                ordenacaoPadrao={'nome'}\r\n                permissoes={[2010, null, null, 2013]}\r\n                getFiltro={this.getFiltro}\r\n                esconderTituloDaTabela={true}\r\n                getTitulosDaTabela={this.getTitulosDaTabela}\r\n                getDadosDaTabela={this.getDadosDaTabela}\r\n                renderizarFormulario={this.renderizarFormulario}\r\n                getObjetoDeDados={this.getObjetoDeDados}\r\n                antesDeInserir={this.antesDeInserir}\r\n                antesDeEditar={this.antesDeEditar}\r\n                antesDeSalvar={this.antesDeSalvar}\r\n                antesDeExcluir={this.antesDeExcluir}\r\n                select={this.props.select}\r\n                itemVazio={{}}\r\n                  \r\n            />\r\n        );\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}