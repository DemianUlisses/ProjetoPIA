{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\55319\\\\Desktop\\\\Projeto PIA\\\\ProjetoPIA\\\\ProjetoPIA\\\\site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\55319\\\\Desktop\\\\Projeto PIA\\\\ProjetoPIA\\\\ProjetoPIA\\\\site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\55319\\\\Desktop\\\\Projeto PIA\\\\ProjetoPIA\\\\ProjetoPIA\\\\site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\55319\\\\Desktop\\\\Projeto PIA\\\\ProjetoPIA\\\\ProjetoPIA\\\\site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\55319\\\\Desktop\\\\Projeto PIA\\\\ProjetoPIA\\\\ProjetoPIA\\\\site\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Form,Row,Col}from'react-bootstrap';import{showError}from'../scripts/Messages';import FormularioPadrao from'./FormularioPadrao';import{isNumeric}from'../scripts/Utils';var titulo='Ações';var url='/acao';var Acao=/*#__PURE__*/function(_Component){_inherits(Acao,_Component);var _super=_createSuper(Acao);function Acao(props){var _this;_classCallCheck(this,Acao);_this=_super.call(this,props);_this.state={};_this.getFiltro=_this.getFiltro.bind(_assertThisInitialized(_this));_this.getTitulosDaTabela=_this.getTitulosDaTabela.bind(_assertThisInitialized(_this));_this.getDadosDaTabela=_this.getDadosDaTabela.bind(_assertThisInitialized(_this));_this.renderizarFormulario=_this.renderizarFormulario.bind(_assertThisInitialized(_this));_this.getObjetoDeDados=_this.getObjetoDeDados.bind(_assertThisInitialized(_this));_this.carregarCombos=_this.carregarCombos.bind(_assertThisInitialized(_this));_this.antesDeInserir=_this.antesDeInserir.bind(_assertThisInitialized(_this));_this.antesDeEditar=_this.antesDeEditar.bind(_assertThisInitialized(_this));return _this;}_createClass(Acao,[{key:\"antesDeInserir\",value:function antesDeInserir(){return this.carregarCombos();}},{key:\"antesDeEditar\",value:function antesDeEditar(){return this.carregarCombos();}},{key:\"carregarCombos\",value:function carregarCombos(){return new Promise(function(resolve){resolve();});}},{key:\"getFiltro\",value:function getFiltro(filtro){var query='';if(filtro&&filtro.texto){var texto=filtro.texto.toString();if(texto[0]==='#'){if(!isNumeric(texto.substring(1))){showError('Código inválido: \"'+texto.substring(1)+'\"');return null;}query='?$filter=id eq '+texto.substring(1);}else{query=\"?$filter=contains(Searchable,'\"+texto+\"') \"+(this.props.filtroAdicional?this.props.filtroAdicional:\"\");}query+='&';}else{query='?';}return query;}},{key:\"getTitulosDaTabela\",value:function getTitulosDaTabela(){return[{titulo:'Nome',width:'100%',orderby:'nome'}];}},{key:\"getDadosDaTabela\",value:function getDadosDaTabela(item){return[item.nome];}},{key:\"getObjetoDeDados\",value:function getObjetoDeDados(sender){return new Promise(function(resolve,reject){var item=sender.state.itemSelecionado;if(!item.nome){showError('Informe o nome da ação.');reject();return;}var input={nome:item.nome};if(sender.state.alterando){input.id=parseInt(item.id);}resolve(input);});}},{key:\"renderizarFormulario\",value:function renderizarFormulario(sender){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:2,md:2,lg:2},/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"C\\xF3digo\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",readOnly:true,defaultValue:sender.state.itemSelecionado.id}))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Label,null,\"Nome\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",defaultValue:sender.state.itemSelecionado.nome,onChange:function onChange(e){sender.state.itemSelecionado.nome=e.target.value;},onInput:function onInput(e){return e.target.value=(''+e.target.value).toUpperCase();}})))));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(FormularioPadrao,{titulo:titulo,url:url,api:this.props.api,ordenacaoPadrao:'nome',permissoes:[2010,null,null,2013],getFiltro:this.getFiltro,esconderTituloDaTabela:true,getTitulosDaTabela:this.getTitulosDaTabela,getDadosDaTabela:this.getDadosDaTabela,renderizarFormulario:this.renderizarFormulario,getObjetoDeDados:this.getObjetoDeDados,antesDeInserir:this.antesDeInserir,antesDeEditar:this.antesDeEditar,antesDeSalvar:this.antesDeSalvar,antesDeExcluir:this.antesDeExcluir,select:this.props.select,itemVazio:{}});}}]);return Acao;}(Component);export{Acao as default};","map":{"version":3,"names":["React","Component","Form","Row","Col","showError","FormularioPadrao","isNumeric","titulo","url","Acao","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","getFiltro","bind","_assertThisInitialized","getTitulosDaTabela","getDadosDaTabela","renderizarFormulario","getObjetoDeDados","carregarCombos","antesDeInserir","antesDeEditar","_createClass","key","value","Promise","resolve","filtro","query","texto","toString","substring","filtroAdicional","width","orderby","item","nome","sender","reject","itemSelecionado","input","alterando","id","parseInt","createElement","Fragment","sm","md","lg","Group","Label","Control","type","readOnly","defaultValue","onChange","e","target","onInput","toUpperCase","render","api","ordenacaoPadrao","permissoes","esconderTituloDaTabela","antesDeSalvar","antesDeExcluir","select","itemVazio","default"],"sources":["C:/Users/55319/Desktop/Projeto PIA/ProjetoPIA/ProjetoPIA/site/src/views/Acao.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Row, Col } from 'react-bootstrap';\r\nimport { showError } from '../scripts/Messages';\r\nimport FormularioPadrao from './FormularioPadrao';\r\nimport { isNumeric } from '../scripts/Utils';\r\n\r\nconst titulo = 'Ações';\r\nconst url = '/acao';\r\n\r\nexport default class Acao extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.getFiltro = this.getFiltro.bind(this);\r\n        this.getTitulosDaTabela = this.getTitulosDaTabela.bind(this);\r\n        this.getDadosDaTabela = this.getDadosDaTabela.bind(this);\r\n        this.renderizarFormulario = this.renderizarFormulario.bind(this);\r\n        this.getObjetoDeDados = this.getObjetoDeDados.bind(this);\r\n        this.carregarCombos = this.carregarCombos.bind(this);\r\n        this.antesDeInserir = this.antesDeInserir.bind(this);\r\n        this.antesDeEditar = this.antesDeEditar.bind(this);\r\n    }\r\n\r\n    antesDeInserir() {\r\n        return this.carregarCombos();\r\n    }\r\n\r\n    antesDeEditar() {\r\n        return this.carregarCombos();\r\n    }\r\n\r\n    carregarCombos() {\r\n        return new Promise((resolve) => {\r\n            resolve();\r\n        });\r\n    }\r\n\r\n    getFiltro(filtro) {\r\n        var query = '';\r\n        if (filtro && filtro.texto) {\r\n            let texto = filtro.texto.toString();\r\n            if (texto[0] === '#') {\r\n                if (!isNumeric(texto.substring(1))) {\r\n                    showError('Código inválido: \"' + texto.substring(1) + '\"');\r\n                    return null;\r\n                }\r\n                query = '?$filter=id eq ' + texto.substring(1);\r\n            } else {\r\n                query = \"?$filter=contains(Searchable,'\" + texto + \"') \" + (this.props.filtroAdicional ? this.props.filtroAdicional : \"\");\r\n            }\r\n            query += '&';\r\n        } else {\r\n            query = '?';\r\n        }\r\n        return query;\r\n    }\r\n\r\n    getTitulosDaTabela() {\r\n        return [{ titulo: 'Nome', width: '100%', orderby: 'nome' }];\r\n    }\r\n\r\n    getDadosDaTabela(item) {\r\n        return [item.nome];\r\n    }\r\n\r\n    getObjetoDeDados(sender) {\r\n        return new Promise((resolve, reject) => {\r\n            let item = sender.state.itemSelecionado;\r\n            if (!item.nome) {\r\n                showError('Informe o nome da ação.');\r\n                reject();\r\n                return;\r\n            }\r\n\r\n            var input = {\r\n                nome: item.nome,\r\n            };\r\n\r\n            if (sender.state.alterando) {\r\n                input.id = parseInt(item.id);\r\n            }\r\n            resolve(input);\r\n        });\r\n    }\r\n\r\n    renderizarFormulario(sender) {\r\n        return (\r\n            <React.Fragment>\r\n                <Row>\r\n                    <Col sm={2} md={2} lg={2}>\r\n                        <Form.Group>\r\n                            <Form.Label>Código</Form.Label>\r\n                            <Form.Control type='text' readOnly defaultValue={sender.state.itemSelecionado.id} />\r\n                        </Form.Group>\r\n                    </Col>\r\n                    <Col>\r\n                        <Form.Group>\r\n                            <Form.Label>Nome</Form.Label>\r\n                            <Form.Control\r\n                                type='text'\r\n                                defaultValue={sender.state.itemSelecionado.nome}\r\n                                onChange={(e) => {\r\n                                    sender.state.itemSelecionado.nome = e.target.value;\r\n                                }}\r\n                                onInput={(e) => (e.target.value = ('' + e.target.value).toUpperCase())}\r\n                            />\r\n                        </Form.Group>\r\n                    </Col>\r\n                </Row>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <FormularioPadrao\r\n                titulo={titulo}\r\n                url={url}\r\n                api={this.props.api}\r\n                ordenacaoPadrao={'nome'}\r\n                permissoes={[2010, null, null, 2013]}\r\n                getFiltro={this.getFiltro}\r\n                esconderTituloDaTabela={true}\r\n                getTitulosDaTabela={this.getTitulosDaTabela}\r\n                getDadosDaTabela={this.getDadosDaTabela}\r\n                renderizarFormulario={this.renderizarFormulario}\r\n                getObjetoDeDados={this.getObjetoDeDados}\r\n                antesDeInserir={this.antesDeInserir}\r\n                antesDeEditar={this.antesDeEditar}\r\n                antesDeSalvar={this.antesDeSalvar}\r\n                antesDeExcluir={this.antesDeExcluir}\r\n                select={this.props.select}\r\n                itemVazio={{}}\r\n                  \r\n            />\r\n        );\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}